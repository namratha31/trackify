{% extends 'base.html' %}
{% block content %}
  <div class="card p-3">
    <h4>All Transactions</h4>
    <table class="table">
      <thead>
        <tr><th>Date</th><th>Type</th><th>Category</th><th>Note</th><th class="text-end">Amount</th><th></th></tr>
      </thead>
      <tbody>
        {% for t in transactions %}
          <tr>
            <td>{{t.date}}</td>
            <td>{{t.type}}</td>
            <td>{{t.category.name if t.category else 'â€”'}}</td>
            <td>{{t.note}}</td>
            <td class="text-end {{ 'text-success' if t.type=='income' else 'text-danger' }}">${{ '%.2f'|format(t.amount) }}</td>
            <td>
              <form method="post" action="/delete/{{t.id}}" onsubmit="return confirm('Delete?')">
                <button class="btn btn-sm btn-outline-danger">Delete</button>
              </form>
            </td>
          </tr>
        {% else %}
          <tr><td colspan="6">No transactions yet</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}
